<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="600" height="400" viewBox="0 0 600 400">
  <defs>
    <linearGradient id="bgGradDB1E" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="400" fill="url(#bgGradDB1E)"/>
  
  <!-- Title -->
  <text x="300" y="35" fill="#3b82f6" font-family="Inter, sans-serif" font-size="16" font-weight="600" text-anchor="middle">ChromaDB Architecture</text>
  
  <!-- Input Documents -->
  <g transform="translate(30, 70)">
    <rect x="0" y="0" width="120" height="100" rx="8" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
    <text x="60" y="22" fill="#22c55e" font-family="Inter, sans-serif" font-size="10" font-weight="500" text-anchor="middle">Documents</text>
    <line x1="10" y1="32" x2="110" y2="32" stroke="#22c55e" stroke-width="1" opacity="0.3"/>
    
    <rect x="10" y="42" width="100" height="15" rx="3" fill="#0f172a" stroke="#334155" stroke-width="1"/>
    <text x="60" y="53" fill="#94a3b8" font-family="Inter, sans-serif" font-size="8" text-anchor="middle">doc_1.txt</text>
    
    <rect x="10" y="62" width="100" height="15" rx="3" fill="#0f172a" stroke="#334155" stroke-width="1"/>
    <text x="60" y="73" fill="#94a3b8" font-family="Inter, sans-serif" font-size="8" text-anchor="middle">doc_2.pdf</text>
    
    <rect x="10" y="82" width="100" height="15" rx="3" fill="#0f172a" stroke="#334155" stroke-width="1"/>
    <text x="60" y="93" fill="#94a3b8" font-family="Inter, sans-serif" font-size="8" text-anchor="middle">doc_n.md</text>
  </g>
  
  <!-- Arrow -->
  <line x1="155" y1="120" x2="185" y2="120" stroke="#22c55e" stroke-width="2"/>
  <polygon points="190,120 180,115 180,125" fill="#22c55e"/>
  <text x="172" y="110" fill="#22c55e" font-family="monospace" font-size="8">add()</text>
  
  <!-- Collection -->
  <g transform="translate(195, 55)">
    <rect x="0" y="0" width="200" height="200" rx="10" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
    <text x="100" y="25" fill="#3b82f6" font-family="Inter, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Collection</text>
    <line x1="10" y1="35" x2="190" y2="35" stroke="#3b82f6" stroke-width="1" opacity="0.3"/>
    
    <rect x="15" y="50" width="170" height="40" rx="6" fill="#0f172a" stroke="#22c55e" stroke-width="1"/>
    <text x="100" y="68" fill="#22c55e" font-family="Inter, sans-serif" font-size="10" text-anchor="middle">ðŸ“„ Documents</text>
    <text x="100" y="82" fill="#64748b" font-family="Inter, sans-serif" font-size="8" text-anchor="middle">Raw text chunks</text>
    
    <rect x="15" y="100" width="170" height="40" rx="6" fill="#0f172a" stroke="#f59e0b" stroke-width="1"/>
    <text x="100" y="118" fill="#f59e0b" font-family="Inter, sans-serif" font-size="10" text-anchor="middle">ðŸ”¢ Embeddings</text>
    <text x="100" y="132" fill="#64748b" font-family="Inter, sans-serif" font-size="8" text-anchor="middle">[0.23, -0.45, 0.87...]</text>
    
    <rect x="15" y="150" width="170" height="40" rx="6" fill="#0f172a" stroke="#3b82f6" stroke-width="1"/>
    <text x="100" y="168" fill="#3b82f6" font-family="Inter, sans-serif" font-size="10" text-anchor="middle">ðŸ“‹ Metadata</text>
    <text x="100" y="182" fill="#64748b" font-family="Inter, sans-serif" font-size="8" text-anchor="middle">{source, date, type}</text>
  </g>
  
  <!-- Query -->
  <g transform="translate(30, 210)">
    <rect x="0" y="0" width="120" height="60" rx="8" fill="#1e293b" stroke="#14b8a6" stroke-width="2"/>
    <text x="60" y="22" fill="#14b8a6" font-family="Inter, sans-serif" font-size="10" font-weight="500" text-anchor="middle">Query</text>
    <line x1="10" y1="32" x2="110" y2="32" stroke="#14b8a6" stroke-width="1" opacity="0.3"/>
    <text x="60" y="50" fill="#94a3b8" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">"What is...?"</text>
  </g>
  
  <!-- Arrow -->
  <line x1="155" y1="240" x2="185" y2="200" stroke="#14b8a6" stroke-width="2"/>
  <polygon points="188,197 178,195 182,205" fill="#14b8a6"/>
  <text x="150" y="225" fill="#14b8a6" font-family="monospace" font-size="8">query()</text>
  
  <!-- Arrow -->
  <line x1="400" y1="155" x2="430" y2="155" stroke="#3b82f6" stroke-width="2"/>
  <polygon points="435,155 425,150 425,160" fill="#3b82f6"/>
  
  <!-- Similarity Search -->
  <g transform="translate(440, 90)">
    <rect x="0" y="0" width="140" height="130" rx="10" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
    <text x="70" y="22" fill="#f59e0b" font-family="Inter, sans-serif" font-size="10" font-weight="500" text-anchor="middle">Similarity Search</text>
    <line x1="10" y1="32" x2="130" y2="32" stroke="#f59e0b" stroke-width="1" opacity="0.3"/>
    
    <rect x="15" y="45" width="110" height="30" rx="5" fill="#0f172a" stroke="#334155" stroke-width="1"/>
    <text x="70" y="65" fill="#94a3b8" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">HNSW Index</text>
    
    <rect x="15" y="85" width="110" height="30" rx="5" fill="#0f172a" stroke="#334155" stroke-width="1"/>
    <text x="70" y="105" fill="#94a3b8" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">Cosine Distance</text>
  </g>
  
  <!-- Arrow -->
  <line x1="510" y1="225" x2="510" y2="265" stroke="#22c55e" stroke-width="2"/>
  <polygon points="510,270 505,260 515,260" fill="#22c55e"/>
  
  <!-- Results -->
  <g transform="translate(430, 275)">
    <rect x="0" y="0" width="150" height="100" rx="10" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
    <text x="75" y="22" fill="#22c55e" font-family="Inter, sans-serif" font-size="10" font-weight="500" text-anchor="middle">Top-K Results</text>
    <line x1="10" y1="32" x2="140" y2="32" stroke="#22c55e" stroke-width="1" opacity="0.3"/>
    
    <text x="20" y="50" fill="#22c55e" font-family="monospace" font-size="9">1. doc_2 (0.94)</text>
    <text x="20" y="65" fill="#22c55e" font-family="monospace" font-size="9">2. doc_1 (0.87)</text>
    <text x="20" y="80" fill="#22c55e" font-family="monospace" font-size="9">3. doc_5 (0.82)</text>
    <text x="20" y="95" fill="#64748b" font-family="Inter, sans-serif" font-size="8">+ metadata</text>
  </g>
  
  <!-- Embedding Model -->
  <g transform="translate(30, 310)">
    <rect x="0" y="0" width="180" height="70" rx="8" fill="#0f172a" stroke="#334155" stroke-width="1"/>
    <text x="90" y="18" fill="#94a3b8" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">Embedding Model</text>
    <text x="90" y="35" fill="#3b82f6" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">all-MiniLM-L6-v2</text>
    <text x="90" y="50" fill="#64748b" font-family="Inter, sans-serif" font-size="8" text-anchor="middle">384 dimensions</text>
    <text x="90" y="63" fill="#64748b" font-family="Inter, sans-serif" font-size="8" text-anchor="middle">Sentence-BERT</text>
  </g>
  
  <line x1="150" y1="290" x2="190" y2="255" stroke="#334155" stroke-width="1" stroke-dasharray="3,2"/>
</svg>
